{% extends "base.html" %}
{% block content %}


    <h1>Library Playlist Suggestions</h1>

    {% if error %}
        <p style="color: red;">Error: {{ error }}</p>
    {% endif %}

    <!-- Form for mood and genre selection -->
    <form method="post">
        <label for="mood">Mood:</label>
        <select name="mood" id="mood">
            <option value="general" {% if mood == 'general' %}selected{% endif %}>General</option>
            <option value="happy" {% if mood == 'happy' %}selected{% endif %}>Happy</option>
            <option value="sad" {% if mood == 'sad' %}selected{% endif %}>Sad</option>
            <option value="relaxed" {% if mood == 'relaxed' %}selected{% endif %}>Relaxed</option>
            <option value="energetic" {% if mood == 'energetic' %}selected{% endif %}>Energetic</option>
        </select>

        <label for="genres">Genres:</label>
        <input type="text" name="genres" id="genres" value="{{ genres }}" placeholder="e.g., Rock, Pop, Jazz">

        <button type="submit">Generate Suggestions</button>
    </form>

    <h2>Suggested Playlists</h2>
    {% if suggestions %}
        <ul>
            {% for suggestion in suggestions %}
                <li>{{ suggestion.text }} 
                    {% if suggestion.youtube_url %}
                        - <a href="{{ suggestion.youtube_url }}" target="_blank">Listen on YouTube</a>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No suggestions available.</p>
    {% endif %}

    {% if download_link %}
        <a href="{{ download_link }}" download>Download Playlist</a>
    {% endif %}

{% endblock %}
